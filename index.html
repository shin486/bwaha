<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Do You Love Me?</title>
  <style>
  body {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: start;
    align-items: center;
    text-align: center;
    overflow-y: auto;
  }
  #cat-gif {
    width: 300px;
    border-radius: 15px;
    margin-top: 40px;
    margin-bottom: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
  h1 {
    color: white;
    font-size: 2.2rem;
    margin-bottom: 25px;
  }
  .buttons {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
  }
  button {
    padding: 15px 25px;
    font-size: 1rem;
    border: none;
    border-radius: 30px;
    cursor: pointer;
    transition: 0.3s;
  }
  .yes {
    background: #ff6b81;
    color: white;
  }
  .yes:hover {
    background: #ff4757;
  }
  .no {
    background: #f1f2f6;
    color: #2f3542;
    position: relative;
  }
  #response {
    margin-top: 25px;
    font-size: 1.5rem;
    color: white;
    display: none;
    z-index: 1;
  }

  .sad-floating {
    position: absolute;
    color: white;
    font-size: 1.5rem;
    font-weight: bold;
    opacity: 0.9;
    animation: fadeOut 2.5s forwards;
    pointer-events: none;
    user-select: none;
    white-space: nowrap;
  }

  @keyframes fadeOut {
    0% { opacity: 1; transform: scale(1); }
    100% { opacity: 0; transform: scale(1.2); }
  }

  #envelope-container {
    display: none;
    margin-top: 30px;
    text-align: center;
    z-index: 2;
    position: relative;
    perspective: 1000px;
  }

  .envelope {
    width: 260px;
    height: 160px;
    position: relative;
    transition: transform 0.5s ease;
    transform-style: preserve-3d;
    cursor: pointer;
    margin-bottom: 60px;
  }

  .envelope:hover {
    transform: translateY(-5px);
  }

  .envelope .back {
    position: absolute;
    width: 100%;
    height: 100%;
    background: #f8bbd0;
    border-radius: 5px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .envelope .front {
    position: absolute;
    width: 100%;
    height: 100%;
    background: #fce4ec;
    border-radius: 5px;
    transform-origin: bottom;
    transition: transform 0.8s ease;
    z-index: 2;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
  }

  .envelope .front:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    margin: 0 auto;
    width: 0;
    height: 0;
    border-left: 130px solid transparent;
    border-right: 130px solid transparent;
    border-top: 80px solid #f8bbd0;
    transform-origin: top;
    transition: all 0.8s ease;
  }

  .envelope.open .front {
    transform: rotateX(180deg);
  }

  .envelope .letter {
    position: absolute;
    top: 10px;
    left: 10px;
    right: 10px;
    bottom: 10px;
    background: white;
    border-radius: 3px;
    padding: 15px;
    color: #2f3542;
    font-size: 0.9rem;
    line-height: 1.4;
    z-index: 1;
    opacity: 0;
    transition: opacity 0.5s ease 0.6s, transform 0.5s ease;
    transform: translateY(0) scale(0.9);
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    overflow-y: auto;
  }

  .envelope.open .letter {
    opacity: 1;
    transform: translateY(-50px) scale(1);
  }

  .letter p {
    margin: 8px 0;
  }

  .letter p:first-child {
    margin-top: 0;
  }

  .letter p:last-child {
    margin-bottom: 0;
    text-align: right;
    font-style: italic;
  }

  @media (max-width: 480px) {
  body {
    padding: 10px;
  }

  #cat-gif {
    width: 90vw;
    margin-top: 20px;
  }

  h1 {
    font-size: 1.6rem;
    margin-bottom: 15px;
  }

  button {
    padding: 12px 18px;
    font-size: 0.9rem;
  }

  .envelope {
    width: 80vw;
    height: auto;
    aspect-ratio: 26 / 16;
  }

  .envelope .front:before {
    border-left: 40vw solid transparent;
    border-right: 40vw solid transparent;
    border-top: calc(80px * (40 / 130)) solid #f8bbd0;
  }

  .letter {
    font-size: 0.85rem;
    padding: 10px;
  }

  #response {
    font-size: 1.3rem;
    margin-top: 15px;
  }
}

</style>

</head>
<body>

  <img id="cat-gif" src="thinking1.gif" alt="Cat" />
  <h1 id="question">mahal mo b q? &lt;3 </h1>
  <div class="buttons" id="buttons">
    <button class="yes" id="yes">Yes</button>
    <button class="no" id="no">No</button>
  </div>
  <div id="response"></div>
  <div id="sad-message" style="margin-top: 15px; color: white; font-size: 1.2rem;"></div>

  <!-- Animated Envelope -->
  <div id="envelope-container">
    <div class="envelope" id="envelope">
      <div class="back"></div>
      <div class="letter">
        <p>My Dear Zai,</p>
        <p>I just want you to know how much you mean to me. You're my happiness, my peace, and my person. Thank you for giving us another chance.</p>
        <p> love u always :></p>
        <p>tmrw pag gising q send me a message tas lagay mu gift wrap effect kzi hnd q pa alam kung panu ung sa gmail hehe aun lang goodmorning sau mwa</p>
      </div>
      <div class="front"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    const catGif = document.getElementById('cat-gif'),
          question = document.getElementById('question'),
          buttons = document.getElementById('buttons'),
          response = document.getElementById('response');

    const sadMessages = ["bkt hnd ðŸ˜¢", "longkot ðŸ’”", "lombay ðŸ˜ž", "pighati ðŸ˜¿"];

    function randomSadFloatingMessage() {
      const msg = document.createElement("div");
      msg.className = "sad-floating";
      msg.textContent = sadMessages[Math.floor(Math.random() * sadMessages.length)];

      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      const angle = (Math.random() * 90) - 45;

      msg.style.left = `${x}px`;
      msg.style.top = `${y}px`;
      msg.style.transform = `rotate(${angle}deg)`;

      document.body.appendChild(msg);
      setTimeout(() => document.body.removeChild(msg), 2500);
    }

    function launchConfetti() {
      const duration = 3 * 1000;
      const end = Date.now() + duration;

      (function frame() {
        confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#ff6b81', '#ff4757', '#feca57'] });
        confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#70a1ff', '#7bed9f', '#eccc68'] });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
    }

    const happyCats = ["happy1.gif", "happy2.gif"];
    const sadCats = ["sad1.gif", "sad2.gif"];
    const nervousCat = "nervous1.gif";
    const nervous2Cat = "nervous2.gif";
    const beggingCat = "begging1.gif";
    const marriedCat = "wedding1.gif";

    function randGif(arr) {
      return arr[Math.floor(Math.random() * arr.length)] + "?v=" + Math.random();
    }

    function changeGif(url) {
      catGif.src = url;
    }

    function moveButton(btn) {
      btn.style.position = 'absolute';
      btn.style.left = (Math.random() * (window.innerWidth - 150)) + 'px';
      btn.style.top = (Math.random() * (window.innerHeight - 150)) + 'px';
    }

    function Q1() {
      const yes = document.getElementById('yes'),
            no = document.getElementById('no');

      yes.onclick = () => {
        question.textContent = "hehe r u ready for another question?? ";
        changeGif(nervousCat);
        buttons.innerHTML = `<button class="yes" id="yes2">Yes</button><button class="no" id="no2">No</button>`;
        Q2();
      };

      no.onmouseover = () => {
  if (!("ontouchstart" in window)) {
    moveButton(no);
    changeGif(randGif(sadCats));
    randomSadFloatingMessage();
  }
};

no.onclick = () => {
  if ("ontouchstart" in window) {
    moveButton(no);
    changeGif(randGif(sadCats));
    randomSadFloatingMessage();
  }
};
      

    function Q2() {
      const yes2 = document.getElementById('yes2'),
            no2 = document.getElementById('no2');

      yes2.onclick = () => {
        let c = 10;
        question.textContent = `Okay... give me ${c} seconds ðŸ˜…`;
        changeGif(nervous2Cat);
        buttons.innerHTML = "";
        const iv = setInterval(() => {
          c--;
          if (c > 0) {
            question.textContent = `Okay... give me ${c} seconds ðŸ˜…`;
          } else {
            clearInterval(iv);
            showFinal();
          }
        }, 1000);
      };

      no2.onmouseover = () => {
  if (!("ontouchstart" in window)) {
    moveButton(no2);
    changeGif(randGif(sadCats));
    randomSadFloatingMessage();
  }
};

no2.onclick = () => {
  if ("ontouchstart" in window) {
    moveButton(no2);
    changeGif(randGif(sadCats));
    randomSadFloatingMessage();
  }
};


    function showFinal() {
      question.textContent = "Will you be my girlfriend, again? :>>";
      changeGif(beggingCat);
      buttons.innerHTML = `<button class="yes" id="yes3">Yes</button><button class="no" id="no3">No</button>`;
      Q3();
    }

    function Q3() {
      const yes3 = document.getElementById('yes3'),
            no3 = document.getElementById('no3');

      yes3.onclick = () => {
        response.style.display = 'block';
        changeGif(marriedCat);
        launchConfetti();
        buttons.innerHTML = "";

        const container = document.getElementById("envelope-container");
        const envelope = document.getElementById("envelope");

        container.style.display = "block";
        container.style.bottom = "80px";

        envelope.onclick = () => {
          envelope.classList.toggle("open");
        };
      };

      no3.onmouseover = () => {
  if (!("ontouchstart" in window)) {
    moveButton(no3);
    changeGif(randGif(sadCats));
    randomSadFloatingMessage();
  }
};

no3.onclick = () => {
  if ("ontouchstart" in window) {
    moveButton(no3);
    changeGif(randGif(sadCats));
    randomSadFloatingMessage();
  }
};
    }}}

    Q1();
  </script>
</body>
</html>